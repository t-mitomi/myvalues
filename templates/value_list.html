<!-- ファイル個別情報 -->
{% extends "base.html" %}
{% block content %}
<!-- <h2>{{user_name}}さんのリスト</h2> -->
<form action="/value_list" id="list100form" style="text-align:center;" method="post">
    <input type="submit" value="select100" name="select100" style="width:300px;">
    <table border="1">
        {% for item in value_list %}
        <tr class="value_container">
            <td>{{item['id']}}</td>
            <td>{{item['task']}}</td>
            <td>{{item['explanation']}}</td>
            <td>
                <!-- <input type="text" style="width: 180px;" id="{{item['id']}}" value="0 がデフォルト：直入力用"> -->
                <input type="button" class="rowup" value="△">
                <label><input type="radio" style="width: 50px;" name="r{{item['id']}}" value="2">大変重要</label>
                <label><input type="radio" style="width: 50px;" name="r{{item['id']}}" value="1">重要</label>
                <label><input type="radio" style="width: 50px;" name="r{{item['id']}}" value="0" checked>重要ではない</label>
                <input type="button" class="rowdown" value="▽">
            </td>
        </tr>
        {% endfor %}
    </table>
    <div id="backToTop" style="position:fixed;right:5px;bottom:5px;background-color:rgba(150,150,150,0.6);"><a href="#">[_ページトップへ_↑_]</a></div>
</form>
<img src="../static/img/myvalues_keshi.png" alt="">
<script>
$(function(){
    // jQueryでテーブルの行を操作する（移動・削除・追加） https://qiita.com/zinbe/items/f5be42aa47d0960c7195
    $('.rowup').click(function() {
        let $row = $(this).closest("tr");
        let $row_prev = $row.prev("tr");
        if($row.prev.length) {
            $row.insertBefore($row_prev);
        }
    });
    $('.rowdown').click(function() {
        let $row = $(this).closest("tr");
        let $row_next = $row.next("tr");
        if($row_next.length) {
            $row.insertAfter($row_next);
        }
    });
    // 
    // <div id="backToTop" style="position:fixed;right:15px;bottom:5px;"><a href="#" style="background-color:grey;">[_ページトップへ_↑_]</a></div>
    $("#backToTop").hide();

    $(window).scroll(function(){
        if($(this).scrollTop()>60){
            $("#backToTop").fadeIn();
        }else{
            $("#backToTop").fadeOut();
        }
    });

    $("#backToTop a").click(function(){
        $("body").animate({
            scrollTop:0
        }, 700);
        return false;
    });
});
</script>
{% endblock %}
